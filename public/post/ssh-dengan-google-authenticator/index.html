<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Just /var/log/ - Akses SSH Dengan Google Authenticator </title>
    
    
    <meta content="Linux, Log" name="keywords">
    
    <meta content="Just /var/log/ - 
Ada banyak cara yang dapat dilakukan untuk mengamankan akses SSH ke server, salah satunya dengan Google Authenticator.
Installasi
sudo apt install libpam-google-authenticator -y


Tambahkan Google Authenticator ke HP
google-authenticator -s ~/.ssh/google_auth

Setelah muncul QR code scan dengan Google Authenticator pada HP, Kemudian masukan kode yang muncul ke terminal

dan ikuti panduannya hingga selesai.

Konfigurasi 2FA SSH
Tambahkan baris berikut pada file  /etc/pam.d/sshd
auth required pam_google_authenticator.so secret=/home/${USER}/.ssh/google_auth nullok

" name="description">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    

    

    
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-438PNW325R"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());
          gtag('config', 'G-438PNW325R');
        </script>
    

    

    <link rel="stylesheet" href="/layui/css/layui.css">
    <link rel="stylesheet" href="/self/css/default.css">
    <script src=" /layui/layui.js"></script>

    <link rel="stylesheet" async href="/self/css/markdown.min.css">
    <link rel="stylesheet" async href="/self/css/gallery.css">
    
    
    

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
    <script async src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js" integrity="sha256-PZEg+mIdptYTwWmLcBTsa99GIDZujyt7VHBZ9Lb2Jys=" crossorigin="anonymous"></script></head>

<body>
    
    <header class="layui-header layui-bg-cyan">

    
    
    <a class="nav-self-logo" href="/">
        Just /var/log/
    </a>

    <ul class="layui-nav layui-layout-right layui-bg-cyan" lay-filter="">
        
        
        <li class="layui-nav-item" id="nav_big"><a href="/post/">Posts</a></li>
        

        
            
                <li class="layui-nav-item" id="nav_big"><a href="/">Home</a></li>
            
                <li class="layui-nav-item" id="nav_big"><a href="/tags">Tags</a></li>
            
                <li class="layui-nav-item" id="nav_big"><a href="/about">About</a></li>
            
                <li class="layui-nav-item" id="nav_big"><a href="/search/">Search</a></li>
            
        

        
        <li class="layui-nav-item" id="nav_small">
            <a href="javascript:;">
                <i class="layui-icon layui-icon-app" style="font-size: 24px;"></i>
            </a>

            <dl class="layui-nav-child">
                
                <dd><a href="/post/">Posts</a></dd>
                

                
                    
                        <dd><a href="/">Home</a></dd>
                    
                        <dd><a href="/tags">Tags</a></dd>
                    
                        <dd><a href="/about">About</a></dd>
                    
                        <dd><a href="/search/">Search</a></dd>
                    
                
            </dl>
        </li>
    </ul>
</header>

<script>
layui.use('element', function(){
  var element = layui.element;
});
</script>

        <div id="content" style="min-height:80%">
<div class="layui-container" style="margin-bottom: 10px">
    

    <div class="layui-row layui-col-space10">
        <div class="layui-col-md8 layui-col-sm12 layui-col-xs12">
            <div class="layui-card single-card">
                <br />
                <blockquote class="self-elem-quote  markdown-body single-title" >
                    <h1>Akses SSH Dengan Google Authenticator</h1>
                    <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2023-04-14</span>

    
    

    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/linux/">
            <span class="layui-badge " style="vertical-align: 2px;">Linux</span>
        </a>
    
        <a href="/tags/log/">
            <span class="layui-badge " style="vertical-align: 2px;">Log</span>
        </a>
    
    
</h3>

                </blockquote>
                <div class="layui-card-body markdown-body single-content">
                    <p><img src="https://cdn-blog.adafruit.com/uploads/2021/09/Untitled-2.png" alt="Logo">
Ada banyak cara yang dapat dilakukan untuk mengamankan akses SSH ke server, salah satunya dengan Google Authenticator.</p>
<h1 id="installasi">Installasi</h1>
<pre><code>sudo apt install libpam-google-authenticator -y
</code></pre>
<p><img src="https://raw.githubusercontent.com/bembenk18/Images/main/Google-Auth/1.png" alt="Installasi"></p>
<h1 id="tambahkan-google-authenticator-ke-hp">Tambahkan Google Authenticator ke HP</h1>
<pre><code>google-authenticator -s ~/.ssh/google_auth
</code></pre>
<p>Setelah muncul QR code scan dengan Google Authenticator pada HP, Kemudian masukan kode yang muncul ke terminal</p>
<p><img src="https://raw.githubusercontent.com/bembenk18/Images/main/Google-Auth/2.png" alt="Scan"></p>
<p>dan ikuti panduannya hingga selesai.</p>
<p><img src="https://raw.githubusercontent.com/bembenk18/Images/main/Google-Auth/3.png" alt="Scan"></p>
<h1 id="konfigurasi-2fa-ssh">Konfigurasi 2FA SSH</h1>
<p>Tambahkan baris berikut pada file  <strong>/etc/pam.d/sshd</strong></p>
<pre><code>auth required pam_google_authenticator.so secret=/home/${USER}/.ssh/google_auth nullok
</code></pre>
<p><img src="https://raw.githubusercontent.com/bembenk18/Images/main/Google-Auth/4.png" alt="Hehe"></p>
<p>Edit baris berikut pada file  <strong>/etc/ssh/sshd_config</strong></p>
<pre><code>ChallengeResponseAuthentication no
</code></pre>
<p>menjadi</p>
<pre><code>ChallengeResponseAuthentication yes
</code></pre>
<p><img src="https://raw.githubusercontent.com/bembenk18/Images/main/Google-Auth/5.png" alt="Hehe"></p>
<h1 id="restart-service-ssh">Restart Service SSH</h1>
<pre><code>sudo systemctl restart sshd
</code></pre>
<h1 id="pengujian">Pengujian</h1>
<p>Inputkan kode yang didapat</p>
<p><img src="https://raw.githubusercontent.com/bembenk18/Images/main/Google-Auth/6.png" alt="Test"></p>
</div>
            </div>
        </div>

        <div class="layui-col-md4 layui-col-sm12 layui-col-xs12">
            
            <div class="layui-card single-card">
                <h2 class="single-title">Relevant Topics</h2>
                
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/post/ssh-ke-mesin-lokal-dengan-tailscale/">
                                <h3 class="">SSH Ke Mesin Lokal Dengan Tailscale</h3>
                            </a>
                            
                            <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2023-04-14</span>

    
    

    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/linux/">
            <span class="layui-badge " style="vertical-align: 2px;">Linux</span>
        </a>
    
        <a href="/tags/server/">
            <span class="layui-badge " style="vertical-align: 2px;">Server</span>
        </a>
    
        <a href="/tags/log/">
            <span class="layui-badge " style="vertical-align: 2px;">Log</span>
        </a>
    
    
</h3>

                        </blockquote>
                    </div>
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/post/ssh-forwading/">
                                <h3 class="">Expose jaringan lokal ke internet dengan SSH Forwading</h3>
                            </a>
                            
                            <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2023-03-26</span>

    
    

    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/linux/">
            <span class="layui-badge " style="vertical-align: 2px;">Linux</span>
        </a>
    
        <a href="/tags/log/">
            <span class="layui-badge " style="vertical-align: 2px;">Log</span>
        </a>
    
    
</h3>

                        </blockquote>
                    </div>
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/post/build-kernel-opensuse-15-4/">
                                <h3 class="">Build Kernel openSUSE 15.4</h3>
                            </a>
                            
                            <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2022-11-23</span>

    
    

    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/linux/">
            <span class="layui-badge " style="vertical-align: 2px;">Linux</span>
        </a>
    
        <a href="/tags/log/">
            <span class="layui-badge " style="vertical-align: 2px;">Log</span>
        </a>
    
    
</h3>

                        </blockquote>
                    </div>
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/post/home-server-armbian/">
                                <h3 class="">Home Server Armbian</h3>
                            </a>
                            
                            <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2023-04-10</span>

    
    

    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/linux/">
            <span class="layui-badge " style="vertical-align: 2px;">Linux</span>
        </a>
    
        <a href="/tags/server/">
            <span class="layui-badge " style="vertical-align: 2px;">Server</span>
        </a>
    
    
</h3>

                        </blockquote>
                    </div>
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/post/cisco-packet-tracer-opensuse/">
                                <h3 class="">Cisco Packet Tracer Opensuse</h3>
                            </a>
                            
                            <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2023-03-27</span>

    
    

    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/linux/">
            <span class="layui-badge " style="vertical-align: 2px;">Linux</span>
        </a>
    
        <a href="/tags/networking/">
            <span class="layui-badge " style="vertical-align: 2px;">Networking</span>
        </a>
    
    
</h3>

                        </blockquote>
                    </div>
                	
                
                <br />
            </div>
            

            <div class="layui-card single-card">
                <h2 class="single-title">Recent Posts</h2>
            
                
                <div style="margin-left: 10px;">
                    <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                    <a href="/post/perjalanan-t480-dimulai/">
                        <h3 class="">Perjalanan T480 Dimulai TEST</h3>
                    </a>
                    <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2025-04-02</span>

    
    

    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/thinkpad/">
            <span class="layui-badge " style="vertical-align: 2px;">Thinkpad</span>
        </a>
    
    
</h3>

                    </blockquote>
                </div>
                
                <div style="margin-left: 10px;">
                    <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                    <a href="/post/cerita-mendapatkan-flightfeeder-flightaware/">
                        <h3 class="">Cerita mendapatkan FlightFeeder dari FlightAware</h3>
                    </a>
                    <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2025-03-29</span>

    
    

    

    

    
    
</h3>

                    </blockquote>
                </div>
                
                <div style="margin-left: 10px;">
                    <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                    <a href="/post/upgrade-home-server/">
                        <h3 class="">Upgrade Home Server</h3>
                    </a>
                    <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2024-10-31</span>

    
    

    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/server/">
            <span class="layui-badge " style="vertical-align: 2px;">Server</span>
        </a>
    
        <a href="/tags/linux/">
            <span class="layui-badge " style="vertical-align: 2px;">Linux</span>
        </a>
    
    
</h3>

                    </blockquote>
                </div>
                
                <div style="margin-left: 10px;">
                    <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                    <a href="/post/flash-openwrt-tp-link-wr1043nd/">
                        <h3 class="">Flash OpenWrt TP Link WR1043ND</h3>
                    </a>
                    <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2024-09-14</span>

    
    

    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/linux/">
            <span class="layui-badge " style="vertical-align: 2px;">Linux</span>
        </a>
    
        <a href="/tags/networking/">
            <span class="layui-badge " style="vertical-align: 2px;">Networking</span>
        </a>
    
    
</h3>

                    </blockquote>
                </div>
                
                <div style="margin-left: 10px;">
                    <blockquote class="self-elem-quote " style="background-color:#FFFFFF;margin-top: 10px;">
                    <a href="/post/cloudflare-warp-on-mikrotik/">
                        <h3 class="">Setup Cloudflare Warp on Mikrotik</h3>
                    </a>
                    <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 28px; vertical-align: -2px;"></i>
    <span>2024-08-25</span>

    
    

    

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 1px;margin-right:2px;"></i>
    

    
        <a href="/tags/mikrotik/">
            <span class="layui-badge " style="vertical-align: 2px;">Mikrotik</span>
        </a>
    
        <a href="/tags/networking/">
            <span class="layui-badge " style="vertical-align: 2px;">Networking</span>
        </a>
    
    
</h3>

                    </blockquote>
                </div>
                
            
            <br />
            </div>
        </div>

    </div>
</div>


        </div><footer>
    
    
    <div class="layui-container">
        <p class="copyright">&copy; All rights reserved. Powered by <a href='https://gohugo.io' style='color:#FFFFFF'>Hugo</a> and <a href='https://github.com/ertuil/erblog' style='color:#FFFFFF'>Erblog</a>.</p>
    </div>
</footer>

</body>
</html>
